{% extends 'base.html' %}

{% block content %}

<!-- Page Content -->
		<div id="content">
				<!-- Top Navigation -->

				<!-- Breadcrumb -->
				<!-- Page Title -->
				<div class="container mt-0">
					<div class="row breadcrumb-bar">
						<div class="col-md-6">
							<h3 class="block-title">Payments</h3>
						</div>
						<div class="col-md-6">
							<ol class="breadcrumb">
								<li class="breadcrumb-item">
									<a href="/dashboard/horizontal">
										<span class="ti-home"></span>
									</a>
								</li>
								<li class="breadcrumb-item">
									<a href="/payment/add">Add Payment</a>
								</li>
								<li class="breadcrumb-item active">
									<a href="/payment/invoice">Invoice</a>
								</li>
							</ol>
						</div>
					</div>
				</div>
			<!-- /Page Title -->

			<!-- /Breadcrumb -->
			<!-- Main Content -->
			<div class="container">

				<div class="row">
					<!-- Widget Item -->
					<div class="col-md-12">
						<div class="widget-area-2 proclinic-box-shadow">
							<h3 class="widget-title">Payments List</h3>
							<div class="table-responsive mb-3">
								<table id="tableId" class="table table-bordered table-striped">
									<thead>
										<tr>
											
											<th>Patient Name</th>
											<th>Doctor Name</th>
											<th>Service Name</th>
											<th>Charges</th>
											<th>Discount <small>(%)</small></th>
											<th>Invoice</th>
										</tr>
									</thead>
                                        <tbody>
                                            {% for n in details %}
                                                <tr>
                                                    <td>{{n.patient_name}}</td>
                                                    <td>{{n.doctor_name}}</td>
                                                    <td>{{n.service_name}}</td>
                                                    <td>{{n.cost_of_treatment}}</td>
                                                    <td>{{n.discount}}</td>
                                                    <td><a href="/payment/invoice_E/{{n.invoice_id}}/{{n.patient_id}}">
														<button type="button" class="btn btn-outline-info mb-0"><span class="ti-arrow-down"></span> Invoice</button></td>
                                                    
                                                    
                                                </tr>
                                            {% endfor %}
                                        </tbody>
										 <script>
											function printContent() {
												// Hide export buttons
												document.querySelectorAll('.export-pagination').forEach(function(exportPagination) {
													exportPagination.style.display = 'none';
												});

												// Print the page
												window.print();

												// Show export buttons
												document.querySelectorAll('.export-pagination').forEach(function(exportPagination) {
													exportPagination.style.display = 'block';
												});
												}
											</script> 
											
                                </table>
								<nav aria-label="Page navigation example">
									<ul class="pagination justify-content-center">
									  {% if details.has_previous %}
										<li class="page-item"><a class="page-link" href="?page={{ details.previous_page_number }}">&laquo;</a></li>
									  {% else %}
										<li class="page-item disabled"><a class="page-link" href="#">&laquo;</a></li>
									  {% endif %}
									  {% for i in details.paginator.page_range %}
										{% if details.number == i %}
										  <li class="page-item active"><a class="page-link" href="#">{{ i }}</a></li>
										{% else %}
										  <li class="page-item"><a class="page-link" href="?page={{ i }}">{{ i }}</a></li>
										{% endif %}
									  {% endfor %}
									  {% if details.has_next %}
										<li class="page-item"><a class="page-link" href="?page={{ details.next_page_number }}">&raquo;</a></li>
									  {% else %}
										<li class="page-item disabled"><a class="page-link" href="#">&raquo;</a></li>
									  {% endif %}
									</ul>
								  </nav>
								<!--Export links-->
								<nav aria-label="Page navigation example">
									<ul class="pagination justify-content-center export-pagination">
									  <li class="page-item">
										<a class="page-link" href="/pp_csv"><span class="ti-download"></span> csv</a>
									  </li>
									  <li class="page-item">
										<a class="page-link" onclick="printContent()"><span class="ti-file"></span> Print</a>
									  </li>
									  <li class="page-item">
										<a class="page-link" href="/pp_excel"><span class="ti-align-justify"></span> Excel</a>
									  </li>
									</ul>
								  </nav>
								<!-- /Export links-->
								
							</div>
						</div>
					</div>
					<!-- /Widget Item -->
				</div>
			</div>
			<!-- /Main Content -->
			
			<!-- /Copy Rights-->
		</div>
		<!-- /Page Content -->

{% endblock %}